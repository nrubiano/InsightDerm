<!-- START: medical-centers -->
<section class="card consultant_list">
    <div class="card-header">
        <span class="cat__core__title">
            <div class="fa fa-stethoscope"></div>
            <strong>Interconsultas</strong>            
        </span>
    </div>
    <div class="card-block">
        <div class="row">
            <div class="col-lg-12">
                <div class="mb-5">
                    <!-- Grid-->
                    <dx-data-grid
                        id="gridContainer"
                        [dataSource]="consultations"
                        [columnHidingEnabled]="true">
                        <dxi-column dataField="patientId"
                                    [hidingPriority]="2"
                                    caption="Identificación Paciente">
                            <dxo-lookup
                                [dataSource]="patients"
                                displayExpr="identificationNumber"
                                valueExpr="id">
                            </dxo-lookup>
                        </dxi-column>
                        
                        <dxi-column dataField="patientId"
                                    caption="Nombre Paciente">
                            <dxo-lookup
                                [dataSource]="patients"
                                displayExpr="name"
                                valueExpr="id">
                            </dxo-lookup>
                        </dxi-column>
                        <dxi-column
                            dataField="reason"
                            caption="Razón Consulta">
                        </dxi-column>
                        <dxi-column
                            dataField="creationDate"
                            dataType="date"
                            format="yyyy/MM/dd hh:mm a"
                            [hidingPriority]="1"
                            caption="Fecha Consulta">
                        </dxi-column>
                        <dxi-column
                            dataField="requestedById"
                            [hidingPriority]="0"
                            caption="Solicitada Por">
                            <dxo-lookup
                                [dataSource]="doctors"
                                displayExpr="name"
                                valueExpr="id">
                            </dxo-lookup>
                        </dxi-column>
                        <dxi-column caption="Acciones"
                                    [hidingPriority]="3"
                                    [minWidth]="320"
                                    cellTemplate="actionsTemplate">
                        </dxi-column>
                        <div *dxTemplate="let d of 'actionsTemplate'">
                            <div class="flex-xl-row chart-cell consultant_list__actions">
                                <dx-button
                                    text="Ver"
                                    icon="find"
                                    type="default"
                                    (click)="viewDetails(d)">
                                </dx-button>
                                <dx-button text="Asignar"></dx-button>
                            </div>
                        </div>
                        
                        <dxo-remote-operations
                            [sorting]="true"
                            [paging]="true">
                        </dxo-remote-operations>
                        
                        <dxo-paging [pageSize]="12"></dxo-paging>
                        
                        <dxo-pager
                            [showPageSizeSelector]="true"
                            [allowedPageSizes]="[8, 12, 20]">
                        </dxo-pager>
                    </dx-data-grid>
                    <!-- End Grid -->
                </div>
            </div>
        </div>
    </div>
</section>
<!-- END: medical-centers -->
